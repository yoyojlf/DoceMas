<script type="text/javascript">
    $( document ).ready(function() {
        $("#btn_add").on("click",function () {
            $.ajax({
                type: "POST",
                url: "/nivel/add",
                data: $('#form_add').serialize(),
                success: function(data) {
                    if(data.type == 'error'){
                        swal({
                            title: data.tittle,
                            text: data.mensaje,
                            type: data.type,
                            confirmButtonText: 'Aceptar'
                        })
                    }else {
                        swal({
                            title: data.tittle,
                            text: data.mensaje,
                            type: data.type,
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                                if (result.value) {
                                    window.location.href = '/nivel';
                                }
                            })
                    }                        
                },
                error: function(data) {
                    swal({
                        title: data.tittle,
                        text: data.mensaje,
                        type: data.type,
                        confirmButtonText: 'Aceptar'
                    })
                }
            });
        })
        
    });

    //Edit Nivel
    $( document ).ready(function() {
        $("#btn_edit").on("click",function () {
            str = $('#form_edit').serialize();
            id = id.value
            console.log( id );
            $.ajax({
                type: "POST",
                url: "/nivel/edit/" + id,
                data: str,
                success: function(data) {
                    if(data.type == 'error'){
                        swal({
                            title: data.tittle,
                            text: data.mensaje,
                            type: data.type,
                            confirmButtonText: 'Aceptar'
                        })
                    }else {
                        swal({
                            title: data.tittle,
                            text: data.mensaje,
                            type: data.type,
                            confirmButtonText: 'Aceptar'
                        }).then((result) => {
                                if (result.value) {
                                    window.location.href = '/nivel';
                                }
                            })
                    }  
                },
                error: function(data) {
                    swal({
                        title: data.tittle,
                        text: data.mensaje,
                        type: data.type,
                        confirmButtonText: 'Aceptar'
                    })
                }
            });
        })
    });
    //Fin Edit Nivel                

    //Rellenar Modal Edit
    function cap_datos(id, nom, desc){
        $("#id").val(id)
        $("#nom").val(nom)
        $("#desc").val(desc)
    }
</script>